(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/spinner-red.d6578615.gif"},,,function(e,t,n){e.exports=n(32)},,,,,function(e,t,n){},function(e,t,n){},,,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),i=n(7),o=n.n(i),c=(n(21),n(8)),l=n(9),s=n(14),d=n(10),u=n(3),h=n(15),m=(n(22),n(11)),f=function(e){var t=m.a("mobilenet_v2"),n=window.innerWidth,i=window.innerHeight,o=Object(a.useRef)(null),c=Object(a.useRef)(null),l=function(e){var t=o.current.getContext("2d");t.clearRect(0,0,t.canvas.width,t.canvas.height),t.strokeStyle="green",t.lineWidth=2,t.textBaseline="bottom",t.font="14px sans-serif",e.forEach(function(e){var n="".concat(e.class),a=t.measureText(n).width,r=parseInt(t.font,10);t.strokeRect(e.bbox[0],e.bbox[1],e.bbox[2],e.bbox[3]),t.fillStyle="#18fc03",t.fillRect(e.bbox[0]-t.lineWidth/2,e.bbox[1],a+t.lineWidth,-r),t.fillStyle="#fc0303",t.fillText(n,e.bbox[0],e.bbox[1])})};return Object(a.useEffect)(function(){if(navigator.mediaDevices.getUserMedia){var e=navigator.mediaDevices.getUserMedia({audio:!1,video:{facingMode:"environment"}}).then(function(e){return c.current.srcObject=e,new Promise(function(e){return c.current.onloadedmetadata=e})}).catch(function(e){alert("Please allow the browser to access your device's camera!!!")});Promise.all([t,e]).then(function(e){!function e(t,n){n.detect(t).then(function(e){l(e)}),requestAnimationFrame(function(){return e(t,n)})}(c.current,e[0])}).catch(function(e){return console.error("Error loading the models / cam ".concat(e))})}else alert("You should probably download Chrome buddy")}),r.a.createElement(r.a.Fragment,null,r.a.createElement("video",{ref:c,className:"app-position",autoPlay:!0,playsInline:!0,muted:!0,width:n,height:i}),r.a.createElement("canvas",{ref:o,className:"app-position",width:n,height:i-100}))},b=(n(31),n(13)),p=n.n(b),w=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={begin:!1,loading:!0,framesProcessed:0,guessData:{}},n.handleClick=n.handleClick.bind(Object(u.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){}},{key:"handleClick",value:function(){var e=this;this.setState({begin:!0}),setTimeout(function(){e.setState({loading:!1})},5e3)}},{key:"render",value:function(){return console.log(this.state.framesProcessed),r.a.createElement("div",{id:"container"},!1===this.state.begin?r.a.createElement("div",null,r.a.createElement("h1",{id:"header-title"},"Object Detector"),r.a.createElement("hr",null),r.a.createElement("br",null),r.a.createElement("a",{id:"header",href:"https://www.github.com/cnebs"},"Project GitHub"),r.a.createElement("br",null),r.a.createElement("span",{id:"header"},"Still image detection powered by:"),r.a.createElement("br",null),r.a.createElement("div",{id:"support-links"},r.a.createElement("a",{id:"header-links-1",href:"https://www.npmjs.com/package/@tensorflow/tfjs"},"Tensorflow.js"),r.a.createElement("span",{id:"header"},"|"),r.a.createElement("a",{id:"header-links-2",href:"https://github.com/tensorflow/tfjs-models/tree/master/coco-ssd"},"Detection Model")),r.a.createElement("div",{id:"wrapper"},r.a.createElement("button",{onClick:this.handleClick,type:"button"},"Launch"))):r.a.createElement("div",null,r.a.createElement("h3",{id:"header"},"Object Detector"),r.a.createElement("hr",null),r.a.createElement(r.a.Fragment,null,!0===this.state.loading?r.a.createElement("span",{id:"header"},r.a.createElement("img",{src:p.a,alt:"loading ..."})):r.a.createElement(r.a.Fragment,null),r.a.createElement(f,{handleGuess:this.handleGuess,handleCountFrames:this.handleCountFrames,framesProcessed:this.state.framesProcessed}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[16,1,2]]]);
//# sourceMappingURL=main.b15c26ba.chunk.js.map